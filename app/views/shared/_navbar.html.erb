<div class="container-fluid" id="navbar" data-controller="navbar">
  <nav class="navbar navbar-expand-lg bg-light shadow-sm p-3 bg-body-tertiary rounded">
    <div class="container">
      <a class="navbar-brand col-5 col-md-2 " href="/">
        <%= image_tag("monkeyHats.webp", class: "rounded-circle w-75 mt-3 mt-md-2") %>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
        aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse ms-4" id="navbarTogglerDemo02">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item underline">
            <%= link_to 'Home' , root_path, class: "nav-link#{' active' if current_page?(root_path)}" %>
          </li>
          <% if user_signed_in? && current_user.usertype == "admin" %>
          <li class="nav-item underline">
            <%= link_to 'Products' , products_path, class: "nav-link#{' active' if current_page?(products_path)}" %>
          </li>
          <% end %>
          <li class="nav-item">
            <%= link_to 'Caps' , caps_path, class: "nav-link#{' active' if current_page?(caps_path)}" %>
          </li>
          <li class="nav-item">
            <%= link_to 'Pins' , pins_path, class: "nav-link#{' active' if current_page?(pins_path)}" %>
          </li>
          <li class="nav-item">
            <%= link_to 'Cases' , cases_path, class: "nav-link#{' active' if current_page?(cases_path)}" %>
          </li>
          <li class="nav-item underline">
            <%= link_to 'About' , about_index_path, class: "nav-link#{' active' if current_page?(about_index_path)}" %>
          </li>
          <li class="nav-item underline">
            <%= link_to 'FAQs' , faqs_index_path, class: "nav-link#{' active' if current_page?(faqs_index_path)}" %>
          </li>
        </ul>
        <div class="text-center d-flex justify-content-between gap-4">
          <div class="row align-content-center">
            <% if user_signed_in? %>
              <div class="col">
                <% if current_user.usertype == "admin" %>
                  <%= link_to "", admin_dashboard_path, class: "fa-solid fa-user color-icon" %>
                <% else %>
                  <%= link_to "", user_path(current_user), class: "fa-solid fa-user color-icon" %>
                <% end %>
              </div>
            <% end %>
         <% unless current_user && current_user.usertype == "admin" %>
            <div class="col">
              <%= link_to '' , carts_path, class: "fa-solid fa-bag-shopping color-icon" %>
            </div>
          <% end %>
          </div>
          <div class="row">
            <% if user_signed_in? %>
              <%= button_to destroy_user_session_path, method: :delete, class: "btn btn-secondary d-flex align-items-center" do %>
                <i class="fa-solid fa-sign-out-alt me-2"></i> SIGN OUT
              <% end %>
            <% else %>
              <%= link_to new_user_session_path, class: "btn btn-dark d-flex align-items-center" do %>
                <i class="fa-solid fa-sign-in-alt me-2"></i> SIGN IN
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </nav>
</div>
